<div class="footer-dock row text-align-center">
  <a href="/" class="link col-3" data-link="/">
    <i class="bi bi-house-door-fill"></i>
    <br/>
    <span>홈</span>
  </a>
  <a th:if="${loginMember != null}" th:href="@{/duty/{name}(name=${loginMember.id})}" class="link col-3"
     th:data-link="|/duty/${loginMember.id}|">
    <i class="bi bi-calendar2-week"></i>
    <br/>
    <span>내 시간표</span>
  </a>
  <a th:if="${loginMember == null}" th:href="@{/auth/login}" class="link col-3">
    <i class="bi bi-calendar2-week"></i>
    <br/>
    <span>내 시간표</span>
  </a>
  <a href="/team" class="link col-3" data-link="/team">
    <i class="bi bi-person-vcard"></i>
    <br/>
    <span>우리팀</span>
  </a>
  <a href="/member" class="link col-3" data-link="/member">
    <i class="bi bi-gear-fill"></i>
    <br/>
    <span>설정</span>
  </a>
</div>

<script>
  const currentPath = window.location.pathname;
  const linkElement = document.querySelector(`.footer-dock .link[data-link="${currentPath}"]`);
  if (linkElement) {
    linkElement.classList.add('active');
  }

  document.querySelector('.footer-dock').addEventListener('click', function (event) {
    const target = event.target.closest('a.link');
    if (target) {
      target.classList.add('active');
      event.preventDefault();
      window.location.href = target.getAttribute('href');
    }
  });
</script>
