spring:
  servlet:
    multipart:
      max-file-size: 50MB
      max-request-size: 50MB
  datasource:
    url: ${DB_URL:jdbc:mysql://localhost:3306/dutypark}
    username: ${DB_USERNAME:dutypark}
    password: ${DB_PASSWORD:PASSWORD_HERE}
    hikari:
      maximum-pool-size: 5
  jpa:
    hibernate:
      ddl-auto: none
    open-in-view: false
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
  devtools:
    restart:
      enabled: false
  ai:
    openai:
      api-key: "${GEMINI_API_KEY:EMPTY}"
      chat:
        base-url: "https://generativelanguage.googleapis.com/v1beta/openai/"
        options:
          model: "gemma-3-27b-it"
          temperature: 0.0
        completions-path: "/chat/completions"

server:
  port: 8080
  tomcat:
    mbeanregistry:
      enabled: true

management:
  endpoints:
    web:
      exposure:
        include: "health, metrics, prometheus"

jwt:
  secret: "${JWT_SECRET:WvQiOAms2XFyW/UnmfO/9xL24ch4IlfUikP9QohMuso=}"
  token-validity-in-seconds: 1800
  refresh-token-validity-in-days: 7

cookie:
  secure: ${COOKIE_SSL_ENABLED:true}
  same-site: Lax
  domain: ${DOMAIN_NAME:}

dutypark:
  adminEmails:
    - ${ADMIN_EMAIL:ADMIN@EMAIL.HERE}
  login:
    rate-limit:
      max-attempts: ${LOGIN_MAX_ATTEMPTS:5}
      window-minutes: ${LOGIN_WINDOW_MINUTES:15}
      cleanup-retention-days: ${LOGIN_CLEANUP_DAYS:7}
  slack:
    token: "${SLACK_TOKEN: }"
  data-go-kr:
    service-key: "${DATA_GO_KR_SERVICE_KEY:DECODED_SERVICE_KEY_HERE}"
  log.path: "/dutypark/logs"
  storage:
    root: /dutypark/storage
    max-file-size: 50MB
    blacklist-ext:
      - exe
      - bat
      - cmd
      - sh
    thumbnail:
      max-side: 200
    session-expiration-hours: 24

oauth:
  kakao:
    rest-api-key: "${KAKAO_REST_API_KEY:KAKAO_REST_API_KEY_HERE}"

decorator:
  datasource:
    p6spy:
      enable-logging: false

logging:
  level:
    nl.basjes.parse.useragent: WARN
